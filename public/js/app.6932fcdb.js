(function(e){function t(t){for(var o,c,a=t[0],i=t[1],l=t[2],u=0,d=[];u<a.length;u++)c=a[u],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&d.push(r[c][0]),r[c]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);b&&b(t);while(d.length)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],o=!0,c=1;c<n.length;c++){var i=n[c];0!==r[i]&&(o=!1)}o&&(s.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},r={app:0},s=[];function c(e){return a.p+"js/"+({about:"about"}[e]||e)+"."+{about:"18680d01"}[e]+".js"}function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,o){n=r[e]=[t,o]}));t.push(n[2]=o);var s,i=document.createElement("script");i.charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.src=c(e);var l=new Error;s=function(t){i.onerror=i.onload=null,clearTimeout(u);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+o+": "+s+")",l.name="ChunkLoadError",l.type=o,l.request=s,n[1](l)}r[e]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:i})}),12e4);i.onerror=i.onload=s,document.head.appendChild(i)}return Promise.all(t)},a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var b=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"3c0a":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),r={class:"container"},s={class:"row bg-info p-3 mb-3"},c=Object(o["g"])("div",{class:"col-8"},[Object(o["g"])("h1",{style:{"font-size":"55px"}},[Object(o["f"])(" Rate My Professor    "),Object(o["g"])("span",{style:{color:"green"}},"☆☆☆☆☆")])],-1),a={key:0,class:"col-lg-2 col-sm-3 m-auto"},i=Object(o["g"])("a",{href:"#create professor"},[Object(o["g"])("button",{style:{width:"135px"}},"Add a new Professor")],-1),l={key:1,class:"col-lg-2 col-sm-12 m-auto"};function u(e,t,n,u,b,d){var p=Object(o["u"])("Navbar"),f=Object(o["u"])("router-view");return Object(o["p"])(),Object(o["d"])("div",r,[Object(o["g"])(p,{key:e.$route.fullPath},{default:Object(o["A"])((function(){return[Object(o["g"])("div",s,[c,d.isLoggedIn()?(Object(o["p"])(),Object(o["d"])("div",a,[i])):Object(o["e"])("",!0),d.isLoggedIn()?(Object(o["p"])(),Object(o["d"])("div",l,[Object(o["g"])("button",{style:{float:"right"},onClick:t[1]||(t[1]=function(e){return d.logout()})}," Logout ")])):Object(o["e"])("",!0)])]})),_:1}),Object(o["g"])(f)])}var b=n("bc3a"),d=n.n(b),p={data:function(){return{}},methods:{isLoggedIn:function(){return localStorage.getItem("jwt")},isLoggedOut:function(){return!localStorage.getItem("jwt")},logout:function(){delete d.a.defaults.headers.common["Authorization"],localStorage.removeItem("jwt"),this.$router.push("/")}}};n("ba89");p.render=u;var f=p,m=(n("d3b7"),n("6c02")),j=(n("b0c0"),{class:"signup"}),O=Object(o["g"])("h1",null,"Signup",-1),g={class:"text-danger"},w={class:"form-group"},v=Object(o["g"])("label",null,"Name:",-1),h={class:"form-group"},y=Object(o["g"])("label",null,"Email:",-1),P={class:"form-group"},R=Object(o["g"])("label",null,"Password:",-1),x={class:"form-group"},C=Object(o["g"])("label",null,"Password confirmation:",-1),S=Object(o["g"])("input",{type:"submit",class:"btn btn-primary",value:"Submit"},null,-1);function k(e,t,n,r,s,c){return Object(o["p"])(),Object(o["d"])("div",j,[Object(o["g"])("form",{onSubmit:t[5]||(t[5]=Object(o["C"])((function(e){return c.submit()}),["prevent"]))},[O,Object(o["g"])("ul",null,[(Object(o["p"])(!0),Object(o["d"])(o["a"],null,Object(o["t"])(e.errors,(function(e){return Object(o["p"])(),Object(o["d"])("li",g,Object(o["w"])(e),1)})),256))]),Object(o["g"])("div",w,[v,Object(o["B"])(Object(o["g"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.name=t})},null,512),[[o["y"],e.name]])]),Object(o["g"])("div",h,[y,Object(o["B"])(Object(o["g"])("input",{type:"email",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.email=t})},null,512),[[o["y"],e.email]])]),Object(o["g"])("div",P,[R,Object(o["B"])(Object(o["g"])("input",{type:"password",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.password=t})},null,512),[[o["y"],e.password]])]),Object(o["g"])("div",x,[C,Object(o["B"])(Object(o["g"])("input",{type:"password",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.passwordConfirmation=t})},null,512),[[o["y"],e.passwordConfirmation]])]),S],32)])}var M={data:function(){return{name:"",email:"",password:"",passwordConfirmation:"",errors:[]}},methods:{submit:function(){var e=this,t={name:this.name,email:this.email,password:this.password,password_confirmation:this.passwordConfirmation};d.a.post("/api/users",t).then((function(t){e.$router.push("/login")})).catch((function(t){e.errors=t.response.data.errors}))}}};M.render=k;var B=M,U={class:"row"},V={class:"col-5 mx-auto login"},T=Object(o["g"])("h1",null,"Login",-1),N={class:"text-danger"},E={class:"form-group"},A=Object(o["g"])("label",null,"Email:",-1),I={class:"form-group"},_=Object(o["g"])("label",null,"Password:",-1),D=Object(o["g"])("input",{type:"submit",class:"mt-3 btn btn-primary",value:"Submit"},null,-1),L={class:"col-5 m-auto signup"},q=Object(o["g"])("h1",null,"Signup",-1),z={class:"text-danger"},$={class:"form-group"},J=Object(o["g"])("label",null,"Name:",-1),F={class:"form-group"},Y=Object(o["g"])("label",null,"Email:",-1),G={class:"form-group"},H=Object(o["g"])("label",null,"Password:",-1),K={class:"form-group"},Q=Object(o["g"])("label",null,"Password confirmation:",-1),W=Object(o["g"])("input",{type:"submit",class:"mt-3 btn btn-primary",value:"Submit"},null,-1);function X(e,t,n,r,s,c){return Object(o["p"])(),Object(o["d"])("div",U,[Object(o["g"])("div",V,[Object(o["g"])("form",{onSubmit:t[3]||(t[3]=Object(o["C"])((function(e){return c.submit1()}),["prevent"]))},[T,Object(o["g"])("ul",null,[(Object(o["p"])(!0),Object(o["d"])(o["a"],null,Object(o["t"])(e.errors1,(function(e){return Object(o["p"])(),Object(o["d"])("li",N,Object(o["w"])(e),1)})),256))]),Object(o["g"])("div",E,[A,Object(o["B"])(Object(o["g"])("input",{type:"email",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.email=t})},null,512),[[o["y"],e.email]])]),Object(o["g"])("div",I,[_,Object(o["B"])(Object(o["g"])("input",{type:"password",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.loginPassword=t})},null,512),[[o["y"],e.loginPassword]])]),D],32)]),Object(o["g"])("div",L,[Object(o["g"])("form",{onSubmit:t[8]||(t[8]=Object(o["C"])((function(e){return c.submit2()}),["prevent"]))},[q,Object(o["g"])("ul",null,[(Object(o["p"])(!0),Object(o["d"])(o["a"],null,Object(o["t"])(e.errors2,(function(e){return Object(o["p"])(),Object(o["d"])("li",z,Object(o["w"])(e),1)})),256))]),Object(o["g"])("div",$,[J,Object(o["B"])(Object(o["g"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.name=t})},null,512),[[o["y"],e.name]])]),Object(o["g"])("div",F,[Y,Object(o["B"])(Object(o["g"])("input",{type:"email",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.emailAddress=t})},null,512),[[o["y"],e.emailAddress]])]),Object(o["g"])("div",G,[H,Object(o["B"])(Object(o["g"])("input",{type:"password",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.password=t})},null,512),[[o["y"],e.password]])]),Object(o["g"])("div",K,[Q,Object(o["B"])(Object(o["g"])("input",{type:"password",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=function(t){return e.passwordConfirmation=t})},null,512),[[o["y"],e.passwordConfirmation]])]),W],32)])])}var Z={data:function(){return{email:"",loginPassword:"",name:"",emailAddress:"",password:"",passwordConfirmation:"",errors1:[],errors2:[]}},methods:{submit1:function(){var e=this,t={email:this.email,password:this.loginPassword};d.a.post("/sessions",t).then((function(t){d.a.defaults.headers.common["Authorization"]=t.data,localStorage.setItem("jwt",t.data),e.$router.push("/professors")})).catch((function(t){e.errors1=["Invalid email or password."],e.email="",e.loginPassword=""}))},submit2:function(){var e=this,t={name:this.name,email:this.emailAddress,password:this.password,password_confirmation:this.passwordConfirmation};d.a.post("/users",t).then((function(t){e.name="",e.email="",e.password="",e.passwordConfirmation="",e.errors2.push("You are now ready to login")})).catch((function(t){e.errors2=t.response.data.errors}))}}};Z.render=X;var ee=Z;const te={};var ne=te,oe={class:"professors"},re={class:"row row-cols-1 row-cols-md-4 g-4"},se={class:"col"},ce={class:"card h-100 border-primary"},ae={class:"card-header"},ie={class:"card-body"},le=Object(o["g"])("br",null,null,-1),ue={class:"row"},be={key:0,class:"col-6 text-success"},de={key:1,class:"col-6 text-success"},pe={key:2,class:"text-success"},fe={class:"col"},me={name:"create professor"},je={class:"card h-100"},Oe=Object(o["g"])("h1",null," Add Professor ",-1);function ge(e,t,n,r,s,c){var a=Object(o["u"])("CreateReviewModal"),i=Object(o["u"])("ProfessorReviewsModal"),l=Object(o["u"])("NewProfessorModal");return Object(o["p"])(),Object(o["d"])("div",oe,[Object(o["g"])("div",re,[(Object(o["p"])(!0),Object(o["d"])(o["a"],null,Object(o["t"])(e.professors,(function(e){return Object(o["p"])(),Object(o["d"])("div",null,[Object(o["g"])("div",se,[Object(o["g"])("div",ce,[Object(o["g"])("div",ae,Object(o["w"])(e.name),1),Object(o["g"])("div",ie,[Object(o["g"])("div",null,Object(o["w"])(e.school),1),Object(o["g"])("div",null,Object(o["w"])(e.department),1),Object(o["g"])("div",null,Object(o["w"])(e.email),1),le,Object(o["g"])("div",ue,[e.reviews.length>0?(Object(o["p"])(),Object(o["d"])("h6",be,Object(o["w"])(c.avgReview(e)),1)):Object(o["e"])("",!0),e.reviews.length>0?(Object(o["p"])(),Object(o["d"])("h6",de,Object(o["w"])(c.numberReviews(e)),1)):(Object(o["p"])(),Object(o["d"])("h6",pe," Be the first to submit a review. "))]),Object(o["g"])("div",null,[Object(o["g"])("button",{class:"btn btn-primary me-3",onClick:function(t){return c.createReviewModal(e)}}," Create Review ",8,["onClick"]),e.reviews.length>0?(Object(o["p"])(),Object(o["d"])("button",{key:0,class:"btn btn-primary",onClick:function(t){return c.showReviewsModal(e)}}," Reviews ",8,["onClick"])):Object(o["e"])("",!0)])])])])])})),256)),Object(o["g"])("div",fe,[Object(o["g"])("a",me,[Object(o["g"])("div",je,[Object(o["g"])("button",{class:"card-body border-primary",onClick:t[1]||(t[1]=function(e){return c.createProfessorModal()})},[Oe])])])])]),Object(o["g"])(a,{id:e.newProfessorID,name:e.professorName,submitReview:c.createReview},null,8,["id","name","submitReview"]),Object(o["g"])(i,{reviews:e.professorReviews},null,8,["reviews"]),Object(o["g"])(l,{handleSubmit:c.createProfessor},null,8,["handleSubmit"])])}n("4160"),n("d81d"),n("13d5"),n("b680"),n("159b");var we={id:"professor-form"},ve={method:"dialog"},he=Object(o["g"])("h4",null,"Create New Professor:",-1),ye=Object(o["f"])("Name: "),Pe=Object(o["f"])("Email: "),Re=Object(o["f"])("Title: "),xe=Object(o["f"])("School: "),Ce=Object(o["f"])("Department: "),Se=Object(o["g"])("button",{class:"btn btn-outline-primary"},"Close",-1);function ke(e,t,n,r,s,c){return Object(o["p"])(),Object(o["d"])("dialog",we,[Object(o["g"])("form",ve,[he,Object(o["g"])("div",null,[Object(o["g"])("p",null,[ye,Object(o["B"])(Object(o["g"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.newName=e})},null,512),[[o["y"],s.newName]])]),Object(o["g"])("p",null,[Pe,Object(o["B"])(Object(o["g"])("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return s.newEmail=e})},null,512),[[o["y"],s.newEmail]])]),Object(o["g"])("p",null,[Re,Object(o["B"])(Object(o["g"])("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=function(e){return s.newTitle=e})},null,512),[[o["y"],s.newTitle]])]),Object(o["g"])("p",null,[xe,Object(o["B"])(Object(o["g"])("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=function(e){return s.newSchool=e})},null,512),[[o["y"],s.newSchool]])]),Object(o["g"])("p",null,[Ce,Object(o["B"])(Object(o["g"])("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=function(e){return s.newDepartment=e})},null,512),[[o["y"],s.newDepartment]])])]),Object(o["g"])("button",{class:"btn btn-outline-primary me-2",onClick:t[6]||(t[6]=function(){return c.handleClick&&c.handleClick.apply(c,arguments)})}," Create Professor "),Se])])}var Me={data:function(){return{newName:"",newEmail:"",newTitle:"",newSchool:"",newDepartment:""}},props:["handleSubmit"],methods:{handleClick:function(){var e={name:this.newName,email:this.newEmail,title:this.newTitle,school:this.newSchool,department:this.newDepartment};this.handleSubmit(e),this.newName="",this.newEmail="",this.newTitle="",this.newSchool="",this.newDepartment=""}}};Me.render=ke;var Be=Me,Ue={id:"review-index"},Ve={method:"dialog"},Te=Object(o["g"])("h4",null,"Reviews",-1),Ne=Object(o["g"])("br",null,null,-1),Ee=Object(o["g"])("button",{class:"btn btn-outline-primary"},"Close",-1);function Ae(e,t,n,r,s,c){return Object(o["p"])(),Object(o["d"])("dialog",Ue,[Object(o["g"])("form",Ve,[Te,(Object(o["p"])(!0),Object(o["d"])(o["a"],null,Object(o["t"])(n.reviews,(function(e){return Object(o["p"])(),Object(o["d"])("div",null,[Object(o["g"])("p",null,[Object(o["f"])(" Rating: "+Object(o["w"])(e.rating)+" ",1),Ne,Object(o["f"])(" "+Object(o["w"])(e.text),1)])])})),256)),Ee])])}var Ie={props:["reviews"]};Ie.render=Ae;var _e=Ie,De={id:"review-form"},Le={method:"dialog"},qe=Object(o["f"])(" Rate your professor (1-10): "),ze=Object(o["g"])("br",null,null,-1),$e=Object(o["g"])("button",{class:"btn btn-outline-primary"},"Close",-1);function Je(e,t,n,r,s,c){return Object(o["p"])(),Object(o["d"])("dialog",De,[Object(o["g"])("form",Le,[Object(o["g"])("h4",null,Object(o["w"])(n.name),1),Object(o["g"])("p",null,[qe,Object(o["B"])(Object(o["g"])("input",{type:"number",max:"10",min:"1","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.newProfessorRating=e})},null,512),[[o["y"],s.newProfessorRating]])]),Object(o["B"])(Object(o["g"])("textarea",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return s.newProfessorText=e}),rows:"8",cols:"50"},null,512),[[o["y"],s.newProfessorText]]),ze,Object(o["g"])("button",{class:"btn btn-outline-primary me-2",onClick:t[3]||(t[3]=function(e){return c.recordReview()})}," Create Review "),$e])])}var Fe={data:function(){return{newProfessorRating:"",newProfessorText:""}},props:["id","name","submitReview"],methods:{recordReview:function(){var e={professor_id:this.id,rating:this.newProfessorRating,text:this.newProfessorText};this.submitReview(e),this.newProfessorRating="",this.newProfessorText=""}}};Fe.render=Je;var Ye=Fe,Ge={data:function(){return{professors:[],reviews:[],professorName:"",newProfessorID:"",newProfessorRating:"",newProfessorText:"",professorReviews:""}},components:{NewProfessorModal:Be,ProfessorReviewsModal:_e,CreateReviewModal:Ye},created:function(){this.indexProfessors(),this.indexReviews()},methods:{indexProfessors:function(){var e=this;d.a.get("/professors/").then((function(t){console.log("professors index",t),e.professors=t.data}))},indexReviews:function(){var e=this;d.a.get("/reviews/").then((function(t){return console.log("reviews index",t),e.reviews=t.data,e.reviews.visible=!0,e.reviews}))},createReviewModal:function(e){document.querySelector("#review-form").showModal(),this.newProfessorID=e.id,this.professorName=e.name},createReview:function(e){var t=this;e.rating>=1&&e.rating<=10&&d.a.post("/reviews",e).then((function(n){console.log("review create",n),t.professors.forEach((function(t){t.id===e.professor_id&&t.reviews.push(n.data)}))}))},avgReview:function(e){return"Rating: ".concat((e.reviews.map((function(e){return e.rating})).reduce((function(e,t){return e+t}))/e.reviews.length).toFixed(1))},numberReviews:function(e){return 1===e.reviews.length?"1 Review":"".concat(e.reviews.length," Reviews")},showReviewsModal:function(e){document.querySelector("#review-index").showModal(),this.professorReviews=e.reviews},createProfessorModal:function(){document.querySelector("#professor-form").showModal()},createProfessor:function(e){var t=this;d.a.post("/professors",e).then((function(e){console.log("professor create",e),t.professors.push(e.data)}))}}};Ge.render=ge;var He=Ge,Ke=[{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/signup",name:"signup",component:B},{path:"/",name:"login",component:ee},{path:"/logout",name:"logout",component:ne},{path:"/professors",name:"professors",component:He}],Qe=Object(m["a"])({history:Object(m["b"])("/"),routes:Ke}),We=Qe;d.a.defaults.baseURL="/",d.a.defaults.headers.common["Authorization"]=localStorage.getItem("jwt"),Object(o["c"])(f).use(We).mount("#app")},ba89:function(e,t,n){"use strict";n("3c0a")}});
//# sourceMappingURL=app.6932fcdb.js.map