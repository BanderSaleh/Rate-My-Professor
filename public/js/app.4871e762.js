(function(e){function t(t){for(var o,a,c=t[0],i=t[1],l=t[2],u=0,d=[];u<c.length;u++)a=c[u],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);b&&b(t);while(d.length)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],o=!0,a=1;a<n.length;a++){var i=n[a];0!==r[i]&&(o=!1)}o&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},r={app:0},s=[];function a(e){return c.p+"js/"+({about:"about"}[e]||e)+"."+{about:"18680d01"}[e]+".js"}function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,o){n=r[e]=[t,o]}));t.push(n[2]=o);var s,i=document.createElement("script");i.charset="utf-8",i.timeout=120,c.nc&&i.setAttribute("nonce",c.nc),i.src=a(e);var l=new Error;s=function(t){i.onerror=i.onload=null,clearTimeout(u);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+o+": "+s+")",l.name="ChunkLoadError",l.type=o,l.request=s,n[1](l)}r[e]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:i})}),12e4);i.onerror=i.onload=s,document.head.appendChild(i)}return Promise.all(t)},c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var b=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},2137:function(e,t,n){"use strict";n("7004")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),r={class:"container"},s={class:"row bg-info p-3 mb-3"},a=Object(o["g"])("div",{class:"col-8"},[Object(o["g"])("h1",{style:{"font-size":"55px"}},[Object(o["f"])(" Rate My Professor    "),Object(o["g"])("span",{style:{color:"green"}},"☆☆☆☆☆")])],-1),c={key:0,class:"col-2 m-auto"},i=Object(o["g"])("button",{style:{width:"135px"}},[Object(o["g"])("a",{href:"#create professor"},"Add a New Professor")],-1),l={key:1,class:"col-2 m-auto"},u=Object(o["f"])("                            ");function b(e,t,n,b,d,p){var f=Object(o["u"])("Navbar"),m=Object(o["u"])("router-view");return Object(o["p"])(),Object(o["d"])("div",r,[Object(o["g"])(f,{key:e.$route.fullPath},{default:Object(o["A"])((function(){return[Object(o["g"])("div",s,[a,p.isLoggedIn()?(Object(o["p"])(),Object(o["d"])("div",c,[i])):Object(o["e"])("",!0),p.isLoggedIn()?(Object(o["p"])(),Object(o["d"])("div",l,[u,Object(o["g"])("button",{onClick:t[1]||(t[1]=function(e){return p.logout()})}," Logout ")])):Object(o["e"])("",!0)])]})),_:1}),Object(o["g"])(m)])}var d=n("bc3a"),p=n.n(d),f={data:function(){return{}},methods:{isLoggedIn:function(){return localStorage.getItem("jwt")},isLoggedOut:function(){return!localStorage.getItem("jwt")},logout:function(){delete p.a.defaults.headers.common["Authorization"],localStorage.removeItem("jwt"),this.$router.push("/")}}};n("2137");f.render=b;var m=f,j=(n("d3b7"),n("6c02")),O=(n("b0c0"),{class:"signup"}),g=Object(o["g"])("h1",null,"Signup",-1),w={class:"text-danger"},v={class:"form-group"},h=Object(o["g"])("label",null,"Name:",-1),y={class:"form-group"},P=Object(o["g"])("label",null,"Email:",-1),x={class:"form-group"},R=Object(o["g"])("label",null,"Password:",-1),C={class:"form-group"},S=Object(o["g"])("label",null,"Password confirmation:",-1),k=Object(o["g"])("input",{type:"submit",class:"btn btn-primary",value:"Submit"},null,-1);function M(e,t,n,r,s,a){return Object(o["p"])(),Object(o["d"])("div",O,[Object(o["g"])("form",{onSubmit:t[5]||(t[5]=Object(o["C"])((function(e){return a.submit()}),["prevent"]))},[g,Object(o["g"])("ul",null,[(Object(o["p"])(!0),Object(o["d"])(o["a"],null,Object(o["t"])(e.errors,(function(e){return Object(o["p"])(),Object(o["d"])("li",w,Object(o["w"])(e),1)})),256))]),Object(o["g"])("div",v,[h,Object(o["B"])(Object(o["g"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.name=t})},null,512),[[o["y"],e.name]])]),Object(o["g"])("div",y,[P,Object(o["B"])(Object(o["g"])("input",{type:"email",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.email=t})},null,512),[[o["y"],e.email]])]),Object(o["g"])("div",x,[R,Object(o["B"])(Object(o["g"])("input",{type:"password",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.password=t})},null,512),[[o["y"],e.password]])]),Object(o["g"])("div",C,[S,Object(o["B"])(Object(o["g"])("input",{type:"password",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.passwordConfirmation=t})},null,512),[[o["y"],e.passwordConfirmation]])]),k],32)])}var B={data:function(){return{name:"",email:"",password:"",passwordConfirmation:"",errors:[]}},methods:{submit:function(){var e=this,t={name:this.name,email:this.email,password:this.password,password_confirmation:this.passwordConfirmation};p.a.post("/api/users",t).then((function(t){e.$router.push("/login")})).catch((function(t){e.errors=t.response.data.errors}))}}};B.render=M;var U=B,V={class:"row"},N={class:"col-5 mx-auto login"},T=Object(o["g"])("h1",null,"Login",-1),E={class:"text-danger"},A={class:"form-group"},I=Object(o["g"])("label",null,"Email:",-1),_={class:"form-group"},D=Object(o["g"])("label",null,"Password:",-1),L=Object(o["g"])("input",{type:"submit",class:"mt-3 btn btn-primary",value:"Submit"},null,-1),q={class:"col-5 m-auto signup"},z=Object(o["g"])("h1",null,"Signup",-1),$={class:"text-danger"},J={class:"form-group"},F=Object(o["g"])("label",null,"Name:",-1),Y={class:"form-group"},G=Object(o["g"])("label",null,"Email:",-1),H={class:"form-group"},K=Object(o["g"])("label",null,"Password:",-1),Q={class:"form-group"},W=Object(o["g"])("label",null,"Password confirmation:",-1),X=Object(o["g"])("input",{type:"submit",class:"mt-3 btn btn-primary",value:"Submit"},null,-1);function Z(e,t,n,r,s,a){return Object(o["p"])(),Object(o["d"])("div",V,[Object(o["g"])("div",N,[Object(o["g"])("form",{onSubmit:t[3]||(t[3]=Object(o["C"])((function(e){return a.submit1()}),["prevent"]))},[T,Object(o["g"])("ul",null,[(Object(o["p"])(!0),Object(o["d"])(o["a"],null,Object(o["t"])(e.errors1,(function(e){return Object(o["p"])(),Object(o["d"])("li",E,Object(o["w"])(e),1)})),256))]),Object(o["g"])("div",A,[I,Object(o["B"])(Object(o["g"])("input",{type:"email",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.email=t})},null,512),[[o["y"],e.email]])]),Object(o["g"])("div",_,[D,Object(o["B"])(Object(o["g"])("input",{type:"password",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.loginPassword=t})},null,512),[[o["y"],e.loginPassword]])]),L],32)]),Object(o["g"])("div",q,[Object(o["g"])("form",{onSubmit:t[8]||(t[8]=Object(o["C"])((function(e){return a.submit2()}),["prevent"]))},[z,Object(o["g"])("ul",null,[(Object(o["p"])(!0),Object(o["d"])(o["a"],null,Object(o["t"])(e.errors2,(function(e){return Object(o["p"])(),Object(o["d"])("li",$,Object(o["w"])(e),1)})),256))]),Object(o["g"])("div",J,[F,Object(o["B"])(Object(o["g"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.name=t})},null,512),[[o["y"],e.name]])]),Object(o["g"])("div",Y,[G,Object(o["B"])(Object(o["g"])("input",{type:"email",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.emailAddress=t})},null,512),[[o["y"],e.emailAddress]])]),Object(o["g"])("div",H,[K,Object(o["B"])(Object(o["g"])("input",{type:"password",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.password=t})},null,512),[[o["y"],e.password]])]),Object(o["g"])("div",Q,[W,Object(o["B"])(Object(o["g"])("input",{type:"password",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=function(t){return e.passwordConfirmation=t})},null,512),[[o["y"],e.passwordConfirmation]])]),X],32)])])}var ee={data:function(){return{email:"",loginPassword:"",name:"",emailAddress:"",password:"",passwordConfirmation:"",errors1:[],errors2:[]}},methods:{submit1:function(){var e=this,t={email:this.email,password:this.loginPassword};p.a.post("/sessions",t).then((function(t){p.a.defaults.headers.common["Authorization"]=t.data,localStorage.setItem("jwt",t.data),e.$router.push("/professors")})).catch((function(t){e.errors1=["Invalid email or password."],e.email="",e.loginPassword=""}))},submit2:function(){var e=this,t={name:this.name,email:this.emailAddress,password:this.password,password_confirmation:this.passwordConfirmation};p.a.post("/users",t).then((function(t){e.name="",e.email="",e.password="",e.passwordConfirmation="",e.errors2.push("You are now ready to login")})).catch((function(t){e.errors2=t.response.data.errors}))}}};ee.render=Z;var te=ee;const ne={};var oe=ne,re={class:"professors"},se={class:"row row-cols-1 row-cols-md-4 g-4"},ae={class:"col"},ce={class:"card h-100 border-primary"},ie={class:"card-header"},le={class:"card-body"},ue=Object(o["g"])("br",null,null,-1),be={class:"text-success"},de={class:"col"},pe={name:"create professor"},fe={class:"card h-100"},me=Object(o["g"])("h1",null," Add Professor ",-1);function je(e,t,n,r,s,a){var c=Object(o["u"])("CreateReviewModal"),i=Object(o["u"])("ProfessorReviewsModal"),l=Object(o["u"])("NewProfessorModal");return Object(o["p"])(),Object(o["d"])("div",re,[Object(o["g"])("div",se,[(Object(o["p"])(!0),Object(o["d"])(o["a"],null,Object(o["t"])(e.professors,(function(e){return Object(o["p"])(),Object(o["d"])("div",null,[Object(o["g"])("div",ae,[Object(o["g"])("div",ce,[Object(o["g"])("div",ie,Object(o["w"])(e.name),1),Object(o["g"])("div",le,[Object(o["g"])("div",null,Object(o["w"])(e.school),1),Object(o["g"])("div",null,Object(o["w"])(e.department),1),Object(o["g"])("div",null,Object(o["w"])(e.email),1),ue,Object(o["g"])("div",null,[Object(o["g"])("h6",be,Object(o["w"])(a.avgReview(e)),1),Object(o["g"])("button",{class:"btn btn-primary me-2",onClick:function(t){return a.createReviewModal(e)}}," Create Review ",8,["onClick"]),e.reviews.length>0?(Object(o["p"])(),Object(o["d"])("button",{key:0,class:"btn btn-primary",onClick:function(t){return a.showReviewsModal(e)}}," Reviews ",8,["onClick"])):Object(o["e"])("",!0)])])])])])})),256)),Object(o["g"])("div",de,[Object(o["g"])("a",pe,[Object(o["g"])("div",fe,[Object(o["g"])("button",{class:"card-body border-primary",onClick:t[1]||(t[1]=function(e){return a.createProfessorModal()})},[me])])])])]),Object(o["g"])(c,{id:e.newProfessorID,name:e.professorName,submitReview:a.createReview},null,8,["id","name","submitReview"]),Object(o["g"])(i,{reviews:e.professorReviews},null,8,["reviews"]),Object(o["g"])(l,{handleSubmit:a.createProfessor},null,8,["handleSubmit"])])}n("99af"),n("4160"),n("d81d"),n("13d5"),n("b680"),n("159b");var Oe={id:"professor-form"},ge={method:"dialog"},we=Object(o["g"])("h4",null,"Create New Professor:",-1),ve=Object(o["f"])("Name: "),he=Object(o["f"])("Email: "),ye=Object(o["f"])("Title: "),Pe=Object(o["f"])("School: "),xe=Object(o["f"])("Department: "),Re=Object(o["g"])("button",{class:"btn btn-outline-primary"},"Close",-1);function Ce(e,t,n,r,s,a){return Object(o["p"])(),Object(o["d"])("dialog",Oe,[Object(o["g"])("form",ge,[we,Object(o["g"])("div",null,[Object(o["g"])("p",null,[ve,Object(o["B"])(Object(o["g"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.newName=e})},null,512),[[o["y"],s.newName]])]),Object(o["g"])("p",null,[he,Object(o["B"])(Object(o["g"])("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return s.newEmail=e})},null,512),[[o["y"],s.newEmail]])]),Object(o["g"])("p",null,[ye,Object(o["B"])(Object(o["g"])("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=function(e){return s.newTitle=e})},null,512),[[o["y"],s.newTitle]])]),Object(o["g"])("p",null,[Pe,Object(o["B"])(Object(o["g"])("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=function(e){return s.newSchool=e})},null,512),[[o["y"],s.newSchool]])]),Object(o["g"])("p",null,[xe,Object(o["B"])(Object(o["g"])("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=function(e){return s.newDepartment=e})},null,512),[[o["y"],s.newDepartment]])])]),Object(o["g"])("button",{class:"btn btn-outline-primary me-2",onClick:t[6]||(t[6]=function(){return a.handleClick&&a.handleClick.apply(a,arguments)})}," Create Professor "),Re])])}var Se={data:function(){return{newName:"",newEmail:"",newTitle:"",newSchool:"",newDepartment:""}},props:["handleSubmit"],methods:{handleClick:function(){var e={name:this.newName,email:this.newEmail,title:this.newTitle,school:this.newSchool,department:this.newDepartment};this.handleSubmit(e),this.newName="",this.newEmail="",this.newTitle="",this.newSchool="",this.newDepartment=""}}};Se.render=Ce;var ke=Se,Me={id:"review-index"},Be={method:"dialog"},Ue=Object(o["g"])("h4",null,"Reviews",-1),Ve=Object(o["g"])("br",null,null,-1),Ne=Object(o["g"])("button",{class:"btn btn-outline-primary"},"Close",-1);function Te(e,t,n,r,s,a){return Object(o["p"])(),Object(o["d"])("dialog",Me,[Object(o["g"])("form",Be,[Ue,(Object(o["p"])(!0),Object(o["d"])(o["a"],null,Object(o["t"])(n.reviews,(function(e){return Object(o["p"])(),Object(o["d"])("div",null,[Object(o["g"])("p",null,[Object(o["f"])(" Rating: "+Object(o["w"])(e.rating)+" ",1),Ve,Object(o["f"])(" "+Object(o["w"])(e.text),1)])])})),256)),Ne])])}var Ee={props:["reviews"]};Ee.render=Te;var Ae=Ee,Ie={id:"review-form"},_e={method:"dialog"},De=Object(o["f"])(" Rate your professor (1-10): "),Le=Object(o["g"])("br",null,null,-1),qe=Object(o["g"])("button",{class:"btn btn-outline-primary"},"Close",-1);function ze(e,t,n,r,s,a){return Object(o["p"])(),Object(o["d"])("dialog",Ie,[Object(o["g"])("form",_e,[Object(o["g"])("h4",null,Object(o["w"])(n.name),1),Object(o["g"])("p",null,[De,Object(o["B"])(Object(o["g"])("input",{type:"number",max:"10",min:"1","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.newProfessorRating=e})},null,512),[[o["y"],s.newProfessorRating]])]),Object(o["B"])(Object(o["g"])("textarea",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return s.newProfessorText=e}),rows:"8",cols:"50"},null,512),[[o["y"],s.newProfessorText]]),Le,Object(o["g"])("button",{class:"btn btn-outline-primary me-2",onClick:t[3]||(t[3]=function(e){return a.recordReview()})}," Create Review "),qe])])}var $e={data:function(){return{newProfessorRating:"",newProfessorText:""}},props:["id","name","submitReview"],methods:{recordReview:function(){var e={professor_id:this.id,rating:this.newProfessorRating,text:this.newProfessorText};this.submitReview(e),this.newProfessorRating="",this.newProfessorText=""}}};$e.render=ze;var Je=$e,Fe={data:function(){return{professors:[],reviews:[],professorName:"",newProfessorID:"",newProfessorRating:"",newProfessorText:"",professorReviews:""}},components:{NewProfessorModal:ke,ProfessorReviewsModal:Ae,CreateReviewModal:Je},created:function(){this.indexProfessors(),this.indexReviews()},methods:{indexProfessors:function(){var e=this;p.a.get("/professors/").then((function(t){console.log("professors index",t),e.professors=t.data}))},indexReviews:function(){var e=this;p.a.get("/reviews/").then((function(t){return console.log("reviews index",t),e.reviews=t.data,e.reviews.visible=!0,e.reviews}))},createReviewModal:function(e){document.querySelector("#review-form").showModal(),this.newProfessorID=e.id,this.professorName=e.name},createReview:function(e){var t=this;e.rating>=1&&e.rating<=10&&p.a.post("/reviews",e).then((function(n){console.log("review create",n),t.professors.forEach((function(t){t.id===e.professor_id&&t.reviews.push(n.data)}))}))},avgReview:function(e){return e.reviews.length>0?"Rating:\n          ".concat((e.reviews.map((function(e){return e.rating})).reduce((function(e,t){return e+t}))/e.reviews.length).toFixed(1),"             ").concat(e.reviews.length," Reviews"):"Be the first to submit a review."},showReviewsModal:function(e){document.querySelector("#review-index").showModal(),this.professorReviews=e.reviews},createProfessorModal:function(){document.querySelector("#professor-form").showModal()},createProfessor:function(e){var t=this;p.a.post("/professors",e).then((function(e){console.log("professor create",e),t.professors.push(e.data)}))}}};Fe.render=je;var Ye=Fe,Ge=[{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/signup",name:"signup",component:U},{path:"/",name:"login",component:te},{path:"/logout",name:"logout",component:oe},{path:"/professors",name:"professors",component:Ye}],He=Object(j["a"])({history:Object(j["b"])("/"),routes:Ge}),Ke=He;p.a.defaults.baseURL="/",p.a.defaults.headers.common["Authorization"]=localStorage.getItem("jwt"),Object(o["c"])(m).use(Ke).mount("#app")},7004:function(e,t,n){}});
//# sourceMappingURL=app.4871e762.js.map